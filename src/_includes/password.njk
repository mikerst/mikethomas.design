  
{% set isInWorkCollection = false %}
{% for item in collections.protected %}
  {% if item.url == page.url %}
    {% set isInWorkCollection = true %}
  {% endif %}
{% endfor %}

{% if isInWorkCollection %}
  <script>
      function checkPassword() {
        const password = document.getElementById("password").value;
        const correctPassword = "nicetomeetyou"; // Set securely
        if (password === correctPassword) {
          document.getElementById("passwordModal").style.display = "none";
        } else {
          alert("Bummer. That doesn't look quite right, please try again.");
        }
      }
      // Ensure the DOM is loaded before adding the event listener
      document.addEventListener("DOMContentLoaded", function() {
        const passwordInput = document.getElementById("password");
        
        passwordInput.addEventListener("keyup", function(event) {
          if (event.key === "Enter") { // Check if Enter key was pressed
            checkPassword();
          }
        });
      });
    </script>
    <div id="passwordModal" class="form-wrapper">
      <div class="form">
        <a title="Go back to homepage" href="/">Go back</a>
        <h2>This project is password protected.</h2>
        <p>Hiring managers: if I've not yet shared the password with you, please <a title="Content Mike via Email" href="mailto:mikerst@gmail.com">let me know</a>.</p>
        <div class="input-button-group">
          <input type="password" id="password" placeholder="Enter password" />
          <button tabindex="0" type="button" onclick="checkPassword()">Submit</button>
        </div>
      </div>
    </div>
  {% endif %}